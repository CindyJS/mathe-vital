<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    
    <title>L_Systems.cdy</title>
    <style type="text/css">
        * {
            margin: 0px;
            padding: 0px;
        }

        #CSConsole {
            background-color: #FAFAFA;
            border-top: 1px solid #333333;
            bottom: 0px;
            height: 200px;
            overflow-y: scroll;
            position: fixed;
            width: 100%;
        }
    </style>
    <link rel="stylesheet" href="https://cindyjs.org/dist/snapshot/CindyJS.css">
    <script type="text/javascript" src="https://cindyjs.org/dist/snapshot/Cindy.js"></script>
<script id="csdraw" type="text/x-cindyscript">
list(x):=(
  gsave();
  translate((G.y,-G.x));
  repeat(length(x),turtle(x_#));
  grestore();
);

turtle(x):=(
  (if(x=="F",foreward)); 
  (if(x=="R",foreward));
  (if(x=="L",foreward));
  (if(x=="+",left));
  (if(x=="-",right));
  (if(x=="[",open));
  (if(x=="]",close));
  (if(x==">",rect));
  (if(x=="A",ball1));
  (if(x=="B",ball2));

);

ball1:=(draw((0,0),size->3,color->(1,0,0),border->false));
ball2:=(draw((0,0),size->3,color->(1,1,0),border->false));
foreward:=(draw((0,0),(l,0));translate((l,0)));
left:=rotate(angle);
right:=rotate(-angle);
rect:=rotate(90°);
open:=gsave();
close:=grestore();

l=C1.radius/4;
angle=C.angle;


n=round(|D,F|);
drawtext(F+(0.3,0.3),n);
s=Start.val;
rules:=(
//("L","L+R++R-L--LL-R+"),
//("R","-L+RR++R+L--L-R"),
("F",FCode.val),
("R",RCode.val),
("L",LCode.val),
("X",XCode.val),
("Y",YCode.val),
);
repeat(n,s=replace(s,rules));
gsave();
rotate(pi/2);
list(s);
grestore();








;
</script>
    <script type="text/javascript">
var cdy = CindyJS({
  scripts: "cs*",
  defaultAppearance: {
    dimDependent: 0.7,
    fontFamily: "sans-serif",
    lineSize: 1,
    pointSize: 5.0,
    textsize: 12.0
  },
  angleUnit: "°",
  geometry: [
    {name: "A", type: "Free", pos: [4.0, -0.5, 0.5], color: [1.0, 0.0, 0.0], pinned: true, size: 2.0},
    {name: "C0", type: "CircleByRadius", pos: {xx: 0.015676456425064093, yy: 0.015676456425064093, zz: 1.0, xy: 0.0, xz: -0.2508233028010255, yz: -0.03135291285012819}, color: [0.0, 0.0, 1.0], radius: 1.100033499489902, args: ["A"], alpha: 0.0},
    {name: "B", type: "PointOnCircle", pos: [4.0, {r: -0.43955882142897784, i: 2.691521518500017E-17}, {r: 0.43955882142897784, i: 7.826410155313392E-33}], color: [1.0, 0.0, 0.0], args: ["C0"], pinned: true, size: 2.0},
    {name: "", type: "OtherPointOnCircle", pos: [4.0, {r: -0.5797129594331061, i: 3.549718100969815E-17}, {r: 0.5797129594331061, i: -7.826410155313392E-33}], color: [1.0, 1.0, 1.0], args: ["B"], pinned: true, size: 0.0},
    {name: "C", type: "PointOnCircle", pos: [4.0, {r: -0.17536727710437336, i: 3.646148147616448E-16}, {r: 0.44863147062641756, i: 2.800972845885658E-17}], color: [0.0, 1.0, 0.0], args: ["C0"], size: 3.0},
    {name: "a", type: "Segment", color: [0.0, 0.0, 1.0], args: ["A", "B"], alpha: 0.8999999761581421},
    {name: "b", type: "Segment", color: [0.0, 0.0, 1.0], args: ["A", "C"], alpha: 0.8999999761581421},
    {name: "E0", type: "AngleMark", color: [0.0, 0.0, 1.0], args: ["A", "B", "C"], alpha: 0.4000000059604645},
    {name: "D", type: "Free", pos: [4.0, 0.5714285714285714, 0.5714285714285714], color: [1.0, 0.0, 0.0], alpha: 0.8999999761581421, pinned: true, size: 3.0},
    {name: "E", type: "Free", pos: [4.0, 0.3076923076923077, 0.3076923076923077], color: [1.0, 0.0, 0.0], alpha: 0.8999999761581421, pinned: true, size: 3.0},
    {name: "c", type: "Segment", color: [0.0, 0.0, 1.0], args: ["D", "E"], alpha: 0.8999999761581421},
    {name: "F", type: "PointOnSegment", pos: [4.0, 0.39999999999999997, 0.39999999999999997], color: [0.0, 1.0, 0.0], args: ["c"], alpha: 0.8999999761581421, size: 3.0},
    {name: "FCode", type: "EditableText", pos: [4.0, 4.0, 0.5714285714285714], color: [0.0, 0.0, 0.0], fillcolor: [0.0, 1.0, 1.0], fillalpha: 0.20000000298023224, minwidth: 200, text: "F[+FA]F[-FB]F"},
    {name: "RCode", type: "EditableText", pos: [4.0, 3.4285714285714284, 0.5714285714285714], color: [0.0, 0.0, 0.0], fillcolor: [0.0, 1.0, 1.0], fillalpha: 0.20000000298023224, minwidth: 200},
    {name: "LCode", type: "EditableText", pos: [4.0, 2.857142857142857, 0.5714285714285714], color: [0.0, 0.0, 0.0], fillcolor: [0.0, 1.0, 1.0], fillalpha: 0.20000000298023224, minwidth: 200},
    {name: "Start", type: "EditableText", pos: [-3.5, -4.0, -0.5], color: [0.0, 0.0, 0.0], fillcolor: [0.0, 1.0, 1.0], fillalpha: 0.20000000298023224, minwidth: 200, text: "F"},
    {name: "G", type: "Free", pos: [0.10256410256410256, -4.0, 3.982856720608882], color: [0.0, 1.0, 0.0], size: 3.0},
    {name: "C1", type: "CircleByRadius", pos: {xx: -0.9957141801522205, yy: -0.9957141801522205, zz: 0.30835645623040336, xy: -0.0, xz: 0.05128205128205128, yz: 1.9999999999999998}, color: [0.098, 0.62, 0.306], radius: 1.1484658897851516, args: ["G"], alpha: 0.4000000059604645},
    {name: "XCode", type: "EditableText", pos: [4.0, 2.2857142857142856, 0.5714285714285714], color: [0.0, 0.0, 0.0], fillcolor: [0.0, 1.0, 1.0], fillalpha: 0.20000000298023224, alpha: 0.8999999761581421, minwidth: 200},
    {name: "YCode", type: "EditableText", pos: [4.0, 1.7142857142857142, 0.5714285714285714], color: [0.0, 0.0, 0.0], fillcolor: [0.0, 1.0, 1.0], fillalpha: 0.20000000298023224, alpha: 0.8999999761581421, minwidth: 200},
    {name: "Text0", type: "Text", color: [0.0, 0.0, 0.0], args: ["B"], alpha: 0.8999999761581421, text: "@$\"A\"", dock: {corner: "UL", offset: [582.0, -0.0]}},
    {name: "Text4", type: "Text", pos: [-3.4285714285714284, -4.0, -0.5714285714285714], color: [0.0, 0.0, 0.0], alpha: 0.8999999761581421, text: "F->"},
    {name: "Text5", type: "Text", pos: [4.0, 4.0, 0.6666666666666666], color: [0.0, 0.0, 0.0], alpha: 0.8999999761581421, text: "R->"},
    {name: "Text6", type: "Text", pos: [4.0, 3.3333333333333335, 0.6666666666666666], color: [0.0, 0.0, 0.0], alpha: 0.8999999761581421, text: "L->"},
    {name: "Text8", type: "Text", pos: [-3.0, -4.0, -0.5], color: [0.0, 0.0, 0.0], alpha: 0.8999999761581421, text: "Start:"},
    {name: "Text2", type: "Text", pos: [4.0, 2.6666666666666665, 0.6666666666666666], color: [0.0, 0.0, 0.0], alpha: 0.8999999761581421, text: "X->"},
    {name: "Text3", type: "Text", pos: [4.0, 2.0, 0.6666666666666666], color: [0.0, 0.0, 0.0], alpha: 0.8999999761581421, text: "Y->"}
  ],
  behavior: [
    {type: "Environment", springstrength: 0.2, friction: 0.1},
    {type: "Motor", speed: 0.02}
  ],
  ports: [{
    id: "CSCanvas",
    width: 780,
    height: 508,
    transform: [{visibleRect: [-6.399220779220779, 9.59239332096475, 13.68686456400742, -3.4893135435992577]}],
    background: "rgb(168,176,192)"
  }],
  csconsole: false,
  cinderella: {build: 1901, version: [2, 9, 1901]}
});


    </script>
</head>
<body>
  
  <form name="test" action="#">
  <script type="text/javascript">
  //Function alerts the index of the selected option within form
  var statement=new Array()
  statement[0]='(FCode.val="F[+FX]F[-FY]F";LCode.val="";RCode.val="";XCode.val="";YCode.val="";Start.val="F";C.angle=pi/6;F.x=D.x+3;C1.radius=0.8)'
  statement[1]='(FCode.val="FF-[-F+F+F]+[+F-F-F]";LCode.val="";RCode.val="";XCode.val="";YCode.val="";Start.val="F";C.angle=pi/6;F.x=D.x+3;C1.radius=0.9)'
  statement[2]='(XCode.val="F[+X]F[-X]+X";FCode.val="FF";LCode.val="";RCode.val="";Start.val="F[+X]F[-X]+X";YCode.val="";C.angle=pi/6;F.x=D.x+3;C1.radius=0.9)'
  statement[3]='(LCode.val="L+R++R-L--LL-R+";RCode.val="-L+RR++R+L--L-R";FCode.val="";XCode.val="";YCode.val="";Start.val="--L";C.angle=pi/3;F.x=D.x+2;C1.radius=0.9)'
  statement[4]='(YCode.val="-XF+YFY+FX-";XCode.val="+YF-XFX-FY+";FCode.val="F";RCode.val="";LCode.val="";Start.val="X";C.angle=pi/2;F.x=D.x+2;C1.radius=0.9)'
  statement[5]='(FCode.val="";LCode.val="R+L+R";RCode.val="L-R-L";XCode.val="";YCode.val="";Start.val="R";C.angle=pi/3;F.x=D.x+4;C1.radius=0.9)'
  statement[6]='(FCode.val="F+F--F+F";LCode.val="";RCode.val="";XCode.val="";YCode.val="";Start.val=">>>F";C.angle=pi/3;F.x=D.x+4;C1.radius=0.9)'
  function alertselected(){
  cdy.evokeCS(statement[document.test.test2.selectedIndex])
  cdy.evokeCS("a=a")

  }
  </script>
  <select name="test2" onchange="alertselected()">
  <option>Plant 1</option>
  <option>Plant 2</option>
  <option>Plant 3</option>
  <option>Curve 1</option>
  <option>Curve 2</option>
  <option>Sierpinski</option>
  <option>Koch</option>
  </select>
  </form>
    <div id="CSCanvas"></div>
</body>
</html>
